<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
        <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@500&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet">
        <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon"/>
        <title>{{ title }}</title>
    </head>
    
    <body>
        <div class="container-fluid h-100">
            <div id="header" class="row h-15 g-0">
                <header>
                    <div class="row align-items-center">
                        <div class="col-2 col-sm-2 col-md-3">
                                <a href="{{ url_for('main.index') }}">
                                    <svg version="1.1" id="logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                        viewBox="0 0 150 51" style="enable-background:new 0 0 150 51;" xml:space="preserve">
                                    <g>
                                        <path class="st0" d="M16.44,45.5l-3.3-38.52L9.8,45.5c-0.26,1.2-0.47,2.06-0.62,2.58c-0.15,0.52-0.42,0.99-0.8,1.4
                                            C8,49.9,7.49,50.11,6.86,50.11c-0.51,0-0.93-0.12-1.26-0.37C5.27,49.49,5,49.15,4.8,48.7c-0.2-0.45-0.37-0.98-0.5-1.6
                                            c-0.13-0.62-0.25-1.19-0.35-1.72l-3.4-17.75c-0.2-1.03-0.31-1.82-0.31-2.36c0-0.68,0.19-1.26,0.56-1.73
                                            c0.37-0.47,0.83-0.7,1.38-0.7c0.75,0,1.26,0.31,1.52,0.94c0.26,0.62,0.49,1.53,0.68,2.72l2.67,15.39l2.99-37.12
                                            c0.22-1.1,0.42-1.94,0.6-2.52c0.18-0.58,0.46-1.07,0.86-1.49c0.4-0.42,0.94-0.63,1.63-0.63c0.7,0,1.24,0.22,1.62,0.66
                                            c0.38,0.44,0.65,0.91,0.8,1.43c0.15,0.52,0.35,1.37,0.6,2.55l3.02,37.12l2.67-15.39c0.13-0.8,0.25-1.43,0.37-1.89
                                            c0.12-0.46,0.32-0.86,0.6-1.22c0.28-0.36,0.69-0.54,1.23-0.54c0.54,0,1,0.23,1.37,0.69c0.38,0.46,0.56,1.04,0.56,1.74
                                            c0,0.49-0.1,1.28-0.31,2.36l-3.4,17.75c-0.23,1.2-0.42,2.08-0.58,2.63c-0.15,0.56-0.41,1.05-0.78,1.47
                                            c-0.37,0.42-0.88,0.63-1.55,0.63c-0.63,0-1.14-0.2-1.52-0.61c-0.38-0.41-0.65-0.87-0.79-1.38C16.92,47.61,16.71,46.74,16.44,45.5z"
                                            />
                                        <path class="st0" d="M32.19,25.83v7.28c0.48-0.72,0.95-1.29,1.41-1.71c0.46-0.42,0.97-0.73,1.52-0.94c0.56-0.21,1.16-0.31,1.8-0.31
                                            c0.97,0,1.82,0.26,2.57,0.79c0.75,0.53,1.33,1.29,1.76,2.3c0.27,0.59,0.45,1.24,0.54,1.97c0.09,0.73,0.14,1.56,0.14,2.51v9.41
                                            c0,0.98-0.17,1.73-0.52,2.23c-0.35,0.5-0.81,0.76-1.39,0.76c-1.25,0-1.88-1-1.88-2.99v-8.29c0-1.57-0.18-2.78-0.54-3.62
                                            c-0.36-0.85-1.05-1.27-2.06-1.27c-0.68,0-1.29,0.25-1.83,0.75c-0.54,0.5-0.95,1.18-1.22,2.04c-0.2,0.73-0.31,2.03-0.31,3.9v6.49
                                            c0,0.97-0.17,1.71-0.51,2.22c-0.34,0.51-0.81,0.76-1.41,0.76c-1.25,0-1.88-1-1.88-2.99V25.83c0-1,0.16-1.74,0.49-2.24
                                            c0.33-0.5,0.79-0.75,1.39-0.75c0.6,0,1.07,0.25,1.41,0.76C32.02,24.1,32.19,24.85,32.19,25.83z"/>
                                        <path class="st0" d="M55.3,47.34c-0.92,0.92-1.81,1.62-2.67,2.08c-0.86,0.46-1.82,0.69-2.89,0.69c-0.97,0-1.83-0.25-2.57-0.75
                                            s-1.31-1.17-1.71-2.02c-0.4-0.85-0.6-1.77-0.6-2.77c0-1.34,0.33-2.49,0.99-3.44c0.66-0.95,1.56-1.58,2.72-1.91
                                            c0.24-0.07,0.84-0.23,1.8-0.49c0.96-0.25,1.78-0.48,2.46-0.69c0.68-0.21,1.42-0.46,2.22-0.76c-0.05-1.29-0.25-2.25-0.61-2.85
                                            c-0.36-0.61-1.1-0.91-2.22-0.91c-0.97,0-1.69,0.17-2.18,0.52c-0.49,0.35-0.91,0.87-1.25,1.56c-0.35,0.7-0.59,1.15-0.74,1.38
                                            c-0.14,0.22-0.45,0.33-0.93,0.33c-0.43,0-0.8-0.18-1.11-0.53c-0.31-0.35-0.47-0.81-0.47-1.36c0-0.86,0.24-1.7,0.71-2.52
                                            c0.47-0.82,1.21-1.49,2.21-2.01c1-0.53,2.25-0.79,3.75-0.79c1.67,0,2.98,0.25,3.94,0.76c0.96,0.51,1.63,1.32,2.03,2.42
                                            c0.39,1.1,0.59,2.57,0.59,4.39c0,1.15,0,2.13-0.01,2.93c0,0.8-0.01,1.7-0.02,2.68c0,0.92,0.12,1.89,0.36,2.89
                                            c0.24,1,0.36,1.65,0.36,1.93c0,0.5-0.18,0.96-0.55,1.38c-0.37,0.41-0.78,0.62-1.25,0.62c-0.39,0-0.78-0.24-1.16-0.71
                                            C56.13,48.92,55.73,48.24,55.3,47.34z M55.05,40.23c-0.56,0.26-1.37,0.54-2.43,0.84c-1.06,0.29-1.8,0.51-2.21,0.65
                                            c-0.41,0.14-0.8,0.41-1.17,0.81c-0.37,0.4-0.56,0.96-0.56,1.68c0,0.74,0.22,1.38,0.65,1.9c0.44,0.52,1.01,0.78,1.71,0.78
                                            c0.75,0,1.45-0.21,2.08-0.64c0.64-0.43,1.1-0.97,1.4-1.65c0.34-0.74,0.52-1.97,0.52-3.67V40.23z"/>
                                        <path class="st0" d="M62.85,30.58h0.42v-2.95c0-0.79,0.02-1.41,0.05-1.86c0.03-0.45,0.12-0.84,0.27-1.16
                                            c0.15-0.34,0.36-0.61,0.64-0.82c0.28-0.21,0.59-0.31,0.93-0.31c0.48,0,0.92,0.23,1.31,0.7c0.26,0.31,0.42,0.69,0.49,1.14
                                            s0.1,1.09,0.1,1.92v3.35h1.39c0.54,0,0.95,0.16,1.23,0.49c0.28,0.33,0.42,0.75,0.42,1.27c0,0.66-0.2,1.12-0.61,1.38
                                            c-0.4,0.26-0.98,0.4-1.73,0.4h-0.71v9.03c0,0.77,0.02,1.36,0.06,1.77c0.04,0.41,0.15,0.75,0.33,1.01c0.18,0.26,0.48,0.39,0.88,0.39
                                            c0.22,0,0.52-0.05,0.91-0.15c0.38-0.1,0.68-0.15,0.89-0.15c0.31,0,0.58,0.16,0.83,0.48c0.25,0.32,0.37,0.71,0.37,1.18
                                            c0,0.79-0.33,1.4-1,1.82c-0.67,0.42-1.63,0.63-2.88,0.63c-1.19,0-2.09-0.26-2.7-0.77c-0.61-0.52-1.01-1.23-1.2-2.14
                                            c-0.19-0.91-0.29-2.13-0.29-3.65v-9.42h-0.5c-0.55,0-0.97-0.17-1.25-0.5c-0.29-0.34-0.43-0.76-0.43-1.28
                                            c0-0.52,0.15-0.94,0.45-1.27C61.83,30.74,62.27,30.58,62.85,30.58z"/>
                                        <path d="M93.38,27.7h-4.51v19.15c0,1.1-0.19,1.92-0.57,2.45c-0.38,0.53-0.87,0.8-1.48,0.8c-0.61,0-1.11-0.27-1.5-0.81
                                            c-0.39-0.54-0.58-1.35-0.58-2.45V27.7h-4.51c-0.71,0-1.23-0.2-1.57-0.6c-0.34-0.4-0.52-0.93-0.52-1.59c0-0.68,0.18-1.22,0.54-1.62
                                            c0.36-0.4,0.87-0.59,1.55-0.59h13.14c0.71,0,1.25,0.2,1.59,0.61c0.35,0.41,0.52,0.94,0.52,1.6c0,0.66-0.18,1.19-0.53,1.59
                                            C94.61,27.5,94.09,27.7,93.38,27.7z"/>
                                        <path d="M111.91,40.13c0,1.46-0.18,2.81-0.53,4.05c-0.35,1.23-0.86,2.3-1.53,3.18c-0.67,0.89-1.47,1.57-2.39,2.04
                                            c-0.93,0.47-1.97,0.71-3.13,0.71c-1.15,0-2.19-0.24-3.1-0.72c-0.92-0.48-1.71-1.17-2.39-2.06c-0.67-0.89-1.18-1.95-1.53-3.17
                                            c-0.35-1.22-0.52-2.56-0.52-4.04c0-1.49,0.18-2.85,0.53-4.08c0.35-1.23,0.86-2.29,1.52-3.17c0.66-0.87,1.46-1.55,2.39-2.02
                                            c0.94-0.47,1.97-0.71,3.1-0.71c1.15,0,2.2,0.24,3.13,0.72c0.94,0.48,1.74,1.16,2.41,2.05c0.67,0.89,1.18,1.94,1.52,3.17
                                            C111.74,37.3,111.91,38.65,111.91,40.13z M108.1,40.13c0-2-0.34-3.56-1.02-4.68c-0.68-1.12-1.6-1.67-2.75-1.67
                                            c-0.74,0-1.4,0.25-1.96,0.75c-0.57,0.5-1,1.23-1.31,2.2c-0.31,0.97-0.46,2.1-0.46,3.4c0,1.28,0.15,2.4,0.45,3.36
                                            c0.3,0.96,0.73,1.69,1.29,2.2c0.56,0.51,1.22,0.76,1.98,0.76c1.15,0,2.07-0.56,2.75-1.68C107.76,43.65,108.1,42.1,108.1,40.13z"/>
                                        <path d="M117.73,23.29h5.39c1.4,0,2.6,0.17,3.61,0.5c1,0.34,1.91,0.97,2.73,1.89c2.13,2.35,3.19,5.92,3.19,10.72
                                            c0,1.58-0.11,3.03-0.32,4.33c-0.21,1.31-0.54,2.48-0.99,3.53c-0.45,1.05-1.02,1.99-1.71,2.81c-0.55,0.64-1.15,1.15-1.8,1.53
                                            c-0.65,0.38-1.35,0.65-2.1,0.81c-0.75,0.16-1.59,0.23-2.53,0.23h-5.39c-0.75,0-1.32-0.15-1.7-0.44c-0.38-0.29-0.63-0.71-0.74-1.24
                                            c-0.12-0.53-0.17-1.23-0.17-2.08V26.57c0-1.15,0.2-1.98,0.6-2.5C116.2,23.55,116.84,23.29,117.73,23.29z M119.33,27.52v17.89h3.13
                                            c0.69,0,1.23-0.02,1.62-0.07c0.39-0.05,0.79-0.17,1.21-0.36c0.42-0.19,0.78-0.46,1.09-0.81c1.38-1.51,2.07-4.11,2.07-7.81
                                            c0-2.6-0.3-4.55-0.91-5.84c-0.61-1.29-1.36-2.12-2.25-2.47c-0.89-0.35-1.97-0.53-3.23-0.53H119.33z"/>
                                        <path d="M150.24,40.13c0,1.46-0.18,2.81-0.53,4.05c-0.35,1.23-0.86,2.3-1.53,3.18c-0.67,0.89-1.47,1.57-2.39,2.04
                                            c-0.93,0.47-1.97,0.71-3.13,0.71c-1.15,0-2.19-0.24-3.1-0.72c-0.92-0.48-1.71-1.17-2.39-2.06c-0.67-0.89-1.18-1.95-1.53-3.17
                                            c-0.35-1.22-0.52-2.56-0.52-4.04c0-1.49,0.18-2.85,0.53-4.08c0.35-1.23,0.86-2.29,1.52-3.17c0.66-0.87,1.46-1.55,2.39-2.02
                                            c0.94-0.47,1.97-0.71,3.1-0.71c1.15,0,2.2,0.24,3.13,0.72c0.94,0.48,1.74,1.16,2.41,2.05c0.67,0.89,1.18,1.94,1.52,3.17
                                            C150.07,37.3,150.24,38.65,150.24,40.13z M146.43,40.13c0-2-0.34-3.56-1.02-4.68c-0.68-1.12-1.6-1.67-2.75-1.67
                                            c-0.74,0-1.4,0.25-1.96,0.75c-0.57,0.5-1,1.23-1.31,2.2c-0.31,0.97-0.46,2.1-0.46,3.4c0,1.28,0.15,2.4,0.45,3.36
                                            c0.3,0.96,0.73,1.69,1.29,2.2c0.56,0.51,1.22,0.76,1.98,0.76c1.15,0,2.07-0.56,2.75-1.68C146.09,43.65,146.43,42.1,146.43,40.13z"
                                            />
                                    </g>
                                    <rect x="73.7" class="st0" width="3.33" height="50"/>
                                    </svg>
                                </a>
                        </div>
                        <div id="search" class="col-6 col-sm-7 col-md-6 text-center">
                            <span id="search-svg" class="material-icons-sharp md-dark md-inactive">search</span>
                            <input
                                type="search"
                                name="search-bar"
                                id="search-bar"
                                placeholder="Find task"
                            />
                        </div>
                        <div class="col-4 col-sm-3 col-md-3">
                            {% set image_file = url_for('static', filename='profile_pics/' + current_user.image_file) %}
                            <a href="{{ url_for("users.dashboard") }}" class="float-end">
                                <p class="username">{{ current_user.name }}</p>
                                <img class="rounded-circle account-img" src="{{ image_file }}">
                            </a>
                        </div>
                    </div>
                </header>
            </div>

            <div class="row h-85 g-0 flex-nowrap">
                <div class="col-4 col-sm-4 col-md-2">
                    <div class="sidebar">
                        <div>
                            <div class="sidebar-item">
                                <a href="{{ url_for("users.tasks") }}">
                                    <span class="material-icons-sharp">done</span>
                                    <p>Today</p>
                                </a>
                            </div>
                            <div class="sidebar-item">
                                <a href="{{ url_for("users.upcoming_tasks") }}">
                                    <span class="material-icons-sharp">done_all</span>
                                    <p>Upcoming</p>
                                </a>
                            </div>
                            <div class="sidebar-item">
                                <a href="{{ url_for("users.dashboard") }}">
                                    <span class="material-icons-sharp">analytics</span>
                                    <p>Statistics</p>
                                </a>
                            </div>
                            <div class="sidebar-item">
                                <a href="{{ url_for("users.projects") }}">
                                    <span class="material-icons-sharp">group</span>
                                    <p>Projects</p>
                                </a>
                            </div>
                        </div>

                        <div>
                            <div class="sidebar-item">
                                <a href="{{ url_for("users.update_account") }}">
                                    <span class="material-icons-sharp">settings</span>
                                    <p>Settings</p>
                                </a>
                            </div>
                            <div class="sidebar-item">
                                <a href="{{ url_for("users.logout") }}">
                                    <span class="material-icons-sharp">logout</span>
                                    <p>Logout</p>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-8 col-sm-8 col-md-10">
                    {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                            {% for category, msg in messages %}
                                <div id="alert" class="alert alert-{{ category }} alert-dismissible flash-notification fade" role="alert">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16">
                                        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                    </svg>
                                    {{ msg }}
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}

                    <div class="content">
                        {% block content %} {% endblock %}
                    </div>
                </div>
            </div>
        </div>
    </body>
        {% block script %}{% endblock %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js" integrity="sha384-lpyLfhYuitXl2zRZ5Bn2fqnhNAKOAaM/0Kr9laMspuaMiZfGmfwRNFh8HlMy49eQ" crossorigin="anonymous"></script>
        <script src="{{ url_for('static', filename='scripts/main.js') }}"></script>
</html>
